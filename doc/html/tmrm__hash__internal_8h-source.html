<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libtmrm: tmrm_hash_internal.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>tmrm_hash_internal.h</h1><a href="tmrm__hash__internal_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * tmrm_hash_internal.h - (Temporary) implementation of private hash functions.</span>
<a name="l00003"></a>00003 <span class="comment"> * http://libtmrm.ravn.no</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * This file is licensed under the </span>
<a name="l00006"></a>00006 <span class="comment"> * GNU Lesser General Public License (LGPL) V2.1 or any newer version</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00009"></a>00009 <span class="comment"> * modify it under the terms of the GNU Library General Public License as</span>
<a name="l00010"></a>00010 <span class="comment"> * published by the Free Software Foundation; either version 2 of the</span>
<a name="l00011"></a>00011 <span class="comment"> * License, or (at your option) any later version.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00014"></a>00014 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00015"></a>00015 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00016"></a>00016 <span class="comment"> * Library General Public License for more details.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * You should have received a copy of the GNU Library General Public</span>
<a name="l00019"></a>00019 <span class="comment"> * License along with this program; if not, write to the</span>
<a name="l00020"></a>00020 <span class="comment"> * Free Software Foundation, Inc., 59 Temple Place - Suite 330,</span>
<a name="l00021"></a>00021 <span class="comment"> * Boston, MA 02111-1307, USA.</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * Copyright (C) 2008-2009 Jan Schreiber, http://purl.org/net/jans</span>
<a name="l00024"></a>00024 <span class="comment"> * Copyright (C) 2008-2009 Ravn Webveveriet AS, NO http://www.ravn.no</span>
<a name="l00025"></a>00025 <span class="comment"> *</span>
<a name="l00026"></a>00026 <span class="comment"> * Parts of the code are based on the Redland library, http://librdf.org</span>
<a name="l00027"></a>00027 <span class="comment"> *</span>
<a name="l00028"></a>00028 <span class="comment"> * Copyright (C) 2000-2007 David Beckett http://purl.org/net/dajobe/</span>
<a name="l00029"></a>00029 <span class="comment"> * Copyright (C) 2000-2005 University of Bristol, UK http://www.bristol.ac.uk/</span>
<a name="l00030"></a>00030 <span class="comment"> */</span> 
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#ifndef TMRM_HASH_INTERNAL_H</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#define TMRM_HASH_INTERNAL_H</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00037"></a>00037 <span class="preprocessor">#endif</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00040"></a><a class="code" href="structtmrm__hash__datum__s.html">00040</a> <span class="keyword">struct </span><a class="code" href="structtmrm__hash__datum__s.html" title="data type used to describe hash key and data">tmrm_hash_datum_s</a>
<a name="l00041"></a>00041 {
<a name="l00042"></a><a class="code" href="structtmrm__hash__datum__s.html#91c68ec993a2c1f179f9c54111b90bf2">00042</a>     tmrm_subject_map_sphere *<a class="code" href="structtmrm__hash__datum__s.html#91c68ec993a2c1f179f9c54111b90bf2">sms</a>;
<a name="l00043"></a><a class="code" href="structtmrm__hash__datum__s.html#f043bf92813cbfd85b73af5fc82b5fbe">00043</a>     <span class="keywordtype">void</span> *<a class="code" href="structtmrm__hash__datum__s.html#f043bf92813cbfd85b73af5fc82b5fbe">data</a>;
<a name="l00044"></a><a class="code" href="structtmrm__hash__datum__s.html#3691644346e70ed555e8e193f8f502dd">00044</a>     <span class="keywordtype">size_t</span> <a class="code" href="structtmrm__hash__datum__s.html#3691644346e70ed555e8e193f8f502dd">size</a>;
<a name="l00045"></a>00045     <span class="comment">/* used internally to build lists of these  */</span>
<a name="l00046"></a><a class="code" href="structtmrm__hash__datum__s.html#28d7d9b9c00de515de1f378294ffbcc4">00046</a>     <span class="keyword">struct </span><a class="code" href="structtmrm__hash__datum__s.html" title="data type used to describe hash key and data">tmrm_hash_datum_s</a> *<a class="code" href="structtmrm__hash__datum__s.html#28d7d9b9c00de515de1f378294ffbcc4">next</a>;
<a name="l00047"></a>00047 };
<a name="l00048"></a>00048 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structtmrm__hash__datum__s.html" title="data type used to describe hash key and data">tmrm_hash_datum_s</a> tmrm_hash_datum;
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="comment">/* constructor / destructor for above */</span>
<a name="l00051"></a>00051 tmrm_hash_datum* <a class="code" href="tmrm__hash_8c.html#567b3b78a0616d69705a97d0c9dfe245" title="tmrm_hash_datum_new:">tmrm_hash_datum_new</a>(tmrm_subject_map_sphere *<a class="code" href="structtmrm__hash__datum__s.html#91c68ec993a2c1f179f9c54111b90bf2">sms</a>, <span class="keywordtype">void</span> *<a class="code" href="structtmrm__hash__datum__s.html#f043bf92813cbfd85b73af5fc82b5fbe">data</a>, <span class="keywordtype">size_t</span> <a class="code" href="structtmrm__hash__datum__s.html#3691644346e70ed555e8e193f8f502dd">size</a>);
<a name="l00052"></a>00052 <span class="keywordtype">void</span> <a class="code" href="tmrm__hash_8c.html#076e68b86d204759cd8e9793b4184cbe" title="tmrm_hash_datum_free:">tmrm_hash_datum_free</a>(tmrm_hash_datum *ptr);
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 
<a name="l00056"></a><a class="code" href="structtmrm__hash__s.html">00056</a> <span class="keyword">struct </span><a class="code" href="structtmrm__hash__s.html" title="A hash object.">tmrm_hash_s</a>
<a name="l00057"></a>00057 {
<a name="l00058"></a><a class="code" href="structtmrm__hash__s.html#d132901f0078738f3b8482c67acd6cbc">00058</a>     tmrm_subject_map_sphere* <a class="code" href="structtmrm__hash__s.html#d132901f0078738f3b8482c67acd6cbc">sms</a>;
<a name="l00059"></a><a class="code" href="structtmrm__hash__s.html#56c393404186efe0df9cf6b4534fe657">00059</a>     <span class="keywordtype">char</span>* <a class="code" href="structtmrm__hash__s.html#56c393404186efe0df9cf6b4534fe657">identifier</a>; <span class="comment">/* as passed in during open(), used by clone() */</span>
<a name="l00060"></a><a class="code" href="structtmrm__hash__s.html#a07657b461620b837786414affb0dcb1">00060</a>     <span class="keywordtype">void</span>* <a class="code" href="structtmrm__hash__s.html#a07657b461620b837786414affb0dcb1">context</a>;
<a name="l00061"></a><a class="code" href="structtmrm__hash__s.html#3e8a517a0048137c7c7189c937eecfe7">00061</a>     <span class="keywordtype">int</span>   <a class="code" href="structtmrm__hash__s.html#3e8a517a0048137c7c7189c937eecfe7">is_open</a>;
<a name="l00062"></a><a class="code" href="structtmrm__hash__s.html#cd490bfaa5cb7d4e79d53f5297b5d233">00062</a>     <span class="keyword">struct </span><a class="code" href="structtmrm__hash__factory__s.html" title="A Hash Factory.">tmrm_hash_factory_s</a>* <a class="code" href="structtmrm__hash__s.html#cd490bfaa5cb7d4e79d53f5297b5d233">factory</a>;
<a name="l00063"></a>00063 };
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 
<a name="l00067"></a><a class="code" href="structtmrm__hash__factory__s.html">00067</a> <span class="keyword">struct </span><a class="code" href="structtmrm__hash__factory__s.html" title="A Hash Factory.">tmrm_hash_factory_s</a> {
<a name="l00068"></a><a class="code" href="structtmrm__hash__factory__s.html#a7065e44e64bd4d68a46b87eb10f2558">00068</a>     <span class="keyword">struct </span><a class="code" href="structtmrm__hash__factory__s.html" title="A Hash Factory.">tmrm_hash_factory_s</a>* <a class="code" href="structtmrm__hash__factory__s.html#a7065e44e64bd4d68a46b87eb10f2558">next</a>;
<a name="l00069"></a><a class="code" href="structtmrm__hash__factory__s.html#f4556b0de411f772e53b3b4ef7f5eeb5">00069</a>     <span class="keywordtype">char</span>* <a class="code" href="structtmrm__hash__factory__s.html#f4556b0de411f772e53b3b4ef7f5eeb5">name</a>;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071     <span class="comment">/* the rest of this structure is populated by the</span>
<a name="l00072"></a>00072 <span class="comment">       hash-specific register function */</span>
<a name="l00073"></a><a class="code" href="structtmrm__hash__factory__s.html#fbe9869f93c2b86e81bfb341674a7ab9">00073</a>     <span class="keywordtype">size_t</span> <a class="code" href="structtmrm__hash__factory__s.html#fbe9869f93c2b86e81bfb341674a7ab9">context_length</a>;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075     <span class="comment">/* size of the cursor context */</span>
<a name="l00076"></a><a class="code" href="structtmrm__hash__factory__s.html#0b66f359d7565663a45128cfbaeffeba">00076</a>     <span class="keywordtype">size_t</span> <a class="code" href="structtmrm__hash__factory__s.html#0b66f359d7565663a45128cfbaeffeba">cursor_context_length</a>;
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="comment">/* clone an existing storage */</span>
<a name="l00079"></a>00079     int (*<a class="code" href="structtmrm__hash__factory__s.html#6a0b468f7527225f8175be25f24add7d">clone</a>)(tmrm_hash* new_hash, <span class="keywordtype">void</span>* new_context, <span class="keywordtype">char</span>* new_name, <span class="keywordtype">void</span>* old_context);
<a name="l00080"></a>00080 
<a name="l00081"></a>00081     <span class="comment">/* create / destroy a hash implementation */</span>
<a name="l00082"></a>00082     int (*<a class="code" href="structtmrm__hash__factory__s.html#b270e30523b02991efac306e0ba3c58e">create</a>)(tmrm_hash* hash, <span class="keywordtype">void</span>* context);
<a name="l00083"></a>00083     int (*<a class="code" href="structtmrm__hash__factory__s.html#bf47aa1540efd00f3498095d34e12697">destroy</a>)(<span class="keywordtype">void</span>* context);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085     <span class="comment">/* open/create hash with identifier and options  */</span>
<a name="l00086"></a>00086     int (*<a class="code" href="structtmrm__hash__factory__s.html#ce5fee5218b1441dd2b300aa7d1780bf">open</a>)(<span class="keywordtype">void</span>* context, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> mode, <span class="keywordtype">int</span> is_writable, <span class="keywordtype">int</span> is_new, tmrm_hash* options);
<a name="l00087"></a>00087     <span class="comment">/* end hash association */</span>
<a name="l00088"></a>00088     int (*<a class="code" href="structtmrm__hash__factory__s.html#191444a1a0534abbf70d2d23868e68c6">close</a>)(<span class="keywordtype">void</span>* context);
<a name="l00089"></a>00089 
<a name="l00090"></a>00090     <span class="comment">/* how many values? */</span>
<a name="l00091"></a>00091     int (*<a class="code" href="structtmrm__hash__factory__s.html#0204c5d77801c93df88c507894605168">values_count</a>)(<span class="keywordtype">void</span>* context);
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     <span class="comment">/* insert key/value pairs according to flags */</span>
<a name="l00094"></a>00094     int (*<a class="code" href="structtmrm__hash__factory__s.html#70654762fc039b10b32c7654db38c34d">put</a>)(<span class="keywordtype">void</span>* context, tmrm_hash_datum *key, tmrm_hash_datum *data);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096     <span class="comment">/* returns true if key exists in hash, without returning value */</span>
<a name="l00097"></a>00097     int (*<a class="code" href="structtmrm__hash__factory__s.html#0bf8ea2293fdfe0dc1282d3e6c373f9d">exists</a>)(<span class="keywordtype">void</span>* context, tmrm_hash_datum *key, tmrm_hash_datum *value);
<a name="l00098"></a>00098 
<a name="l00099"></a>00099     int (*<a class="code" href="structtmrm__hash__factory__s.html#9895ed8bb57298557d54082b22da43d9">delete_key</a>)(<span class="keywordtype">void</span>* context, tmrm_hash_datum *key);
<a name="l00100"></a>00100     int (*<a class="code" href="structtmrm__hash__factory__s.html#d95ac195e2d2254271b956bcdc00d730">delete_key_value</a>)(<span class="keywordtype">void</span>* context, tmrm_hash_datum *key, tmrm_hash_datum *value);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102     <span class="comment">/* flush any cached information to disk */</span>
<a name="l00103"></a>00103     int (*<a class="code" href="structtmrm__hash__factory__s.html#44f4267f8bd63b7bbe92d1ffa2c439fd">sync</a>)(<span class="keywordtype">void</span>* context);
<a name="l00104"></a>00104 
<a name="l00105"></a>00105     <span class="comment">/* get the file descriptor for the hash, if it is file based (for locking) */</span>
<a name="l00106"></a>00106     int (*<a class="code" href="structtmrm__hash__factory__s.html#ed9804f7a394673750e948da15d61f8f">get_fd</a>)(<span class="keywordtype">void</span>* context);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108     <span class="comment">/* create a cursor and operate on it */</span>
<a name="l00109"></a>00109     int (*<a class="code" href="structtmrm__hash__factory__s.html#85893d50bfaa904dbcc5f104f4ec7f11">cursor_init</a>)(<span class="keywordtype">void</span> *cursor_context, <span class="keywordtype">void</span>* hash_context);
<a name="l00110"></a>00110     int (*<a class="code" href="structtmrm__hash__factory__s.html#72d69ff59952943b5b3792e4038afcb0">cursor_get</a>)(<span class="keywordtype">void</span> *cursor, tmrm_hash_datum *key, tmrm_hash_datum *value, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags);
<a name="l00111"></a>00111     <a class="code" href="tmrm__list_8h.html#dd5e600318fcffc0eb73e95fb2846da5">void</a> (*<a class="code" href="structtmrm__hash__factory__s.html#0b29774d0bd413a8c4ddb259e0e1675e">cursor_finish</a>)(<span class="keywordtype">void</span> *context);
<a name="l00112"></a>00112 };
<a name="l00113"></a>00113 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structtmrm__hash__factory__s.html" title="A Hash Factory.">tmrm_hash_factory_s</a> tmrm_hash_factory;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="comment">/* factory class methods */</span>
<a name="l00116"></a>00116 <span class="keywordtype">void</span> <a class="code" href="tmrm__hash_8c.html#41f92768f6028a7ee7f2fa28b9c3aa85" title="tmrm_hash_register_factory:">tmrm_hash_register_factory</a>(tmrm_subject_map_sphere *sms, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structtmrm__hash__factory__s.html#f4556b0de411f772e53b3b4ef7f5eeb5">name</a>, <span class="keywordtype">void</span> (*factory) (tmrm_hash_factory*));
<a name="l00117"></a>00117 tmrm_hash_factory* <a class="code" href="tmrm__hash_8c.html#38370a51ada3591e71925249dff958de" title="Get a hash factory by name.">tmrm_get_hash_factory</a>(tmrm_subject_map_sphere *sms, <span class="keyword">const</span> <span class="keywordtype">char</span> *name);
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="comment">/* module init */</span>
<a name="l00121"></a>00121 <span class="keywordtype">void</span> <a class="code" href="tmrm__hash_8c.html#f3e901b3da7d39e20eebd42c981c59a3" title="Initialises and registers all compiled hash modules.">tmrm_init_hash</a>(tmrm_subject_map_sphere *sms);
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="comment">/* module terminate */</span>
<a name="l00124"></a>00124 <span class="keywordtype">void</span> <a class="code" href="tmrm__hash_8c.html#7851a8ad56070c5f3811e08057b096d5" title="Terminate the hash module.">tmrm_finish_hash</a>(tmrm_subject_map_sphere *sms);
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 <span class="comment">/* hash cursor_get method flags */</span>
<a name="l00127"></a><a class="code" href="tmrm__hash__internal_8h.html#05530816a1c9a94334028f4cfc1fa6f1">00127</a> <span class="preprocessor">#define TMRM_HASH_CURSOR_SET 0</span>
<a name="l00128"></a><a class="code" href="tmrm__hash__internal_8h.html#f5d622cb33fdabf7ca359ebeec79e655">00128</a> <span class="preprocessor"></span><span class="preprocessor">#define TMRM_HASH_CURSOR_NEXT_VALUE 1</span>
<a name="l00129"></a><a class="code" href="tmrm__hash__internal_8h.html#0e80049ca23d1a8b7842430360e51dfd">00129</a> <span class="preprocessor"></span><span class="preprocessor">#define TMRM_HASH_CURSOR_FIRST 2</span>
<a name="l00130"></a><a class="code" href="tmrm__hash__internal_8h.html#ee787fa5ba659b328c95cb0331d330de">00130</a> <span class="preprocessor"></span><span class="preprocessor">#define TMRM_HASH_CURSOR_NEXT 3</span>
<a name="l00131"></a>00131 <span class="preprocessor"></span>
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <span class="comment">/* constructors */</span>
<a name="l00134"></a>00134 tmrm_hash* <a class="code" href="tmrm__hash_8c.html#59f892e1a23d906b01ea8ce65731bf62" title="Constructor - create a new tmrm_hash object from a factory.">tmrm_hash_new_from_factory</a>(tmrm_subject_map_sphere *sms, tmrm_hash_factory* factory);
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 <span class="comment">/* methods */</span>
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="comment">/* open/create hash with identifier and options  */</span>
<a name="l00139"></a>00139 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#30c2e22445949131856a01e4d72ebf4b" title="Start a hash association.">tmrm_hash_open</a>(tmrm_hash* hash, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> mode, <span class="keywordtype">int</span> is_writable, <span class="keywordtype">int</span> is_new, tmrm_hash* options);
<a name="l00140"></a>00140 <span class="comment">/* end hash association */</span>
<a name="l00141"></a>00141 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#761be7106f8554f6b8f90af68a7ba815" title="End a hash association.">tmrm_hash_close</a>(tmrm_hash* hash);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 <span class="comment">/* retrieve one value for a given hash key as a hash datum */</span>
<a name="l00144"></a>00144 tmrm_hash_datum* <a class="code" href="tmrm__hash_8c.html#c023419d149cf4c846ee01c9f6b172db" title="Retrieve one value from hash for a given key.">tmrm_hash_get_one</a>(tmrm_hash* hash, tmrm_hash_datum *key);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 <span class="comment">/* retrieve all values for a given hash key according to flags */</span>
<a name="l00147"></a>00147 tmrm_iterator* <a class="code" href="tmrm__hash_8c.html#4ccaa4ebe50e5ee4c63d7a96d239e7bf" title="Retrieve all values from hash for a given key.">tmrm_hash_get_all</a>(tmrm_hash* hash, tmrm_hash_datum *key, tmrm_hash_datum *value);
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="comment">/* insert a key/value pair */</span>
<a name="l00150"></a>00150 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#a0c036a68f8823fe2a30eaf335c903dc" title="Insert key/value pairs into the hash according to flags.">tmrm_hash_put</a>(tmrm_hash* hash, tmrm_hash_datum *key, tmrm_hash_datum *value);
<a name="l00151"></a>00151 
<a name="l00152"></a>00152   <span class="comment">/* returns true if key exists in hash, without returning value */</span>
<a name="l00153"></a>00153 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#47299947036e882de51a8e0a703e3509" title="Check if a given key/value is in the hash.">tmrm_hash_exists</a>(tmrm_hash* hash, tmrm_hash_datum *key, tmrm_hash_datum *value);
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#63cb1a3e00096bb12a4634db156855c0" title="Delete a key/value pair from the hash.">tmrm_hash_delete</a>(tmrm_hash* hash, tmrm_hash_datum *key, tmrm_hash_datum *value);
<a name="l00156"></a>00156 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#601e6a8793f63072efc859e6ac07f098" title="Delete a key and all values from the hash.">tmrm_hash_delete_all</a>(tmrm_hash* hash, tmrm_hash_datum *key);
<a name="l00157"></a>00157 tmrm_iterator* <a class="code" href="tmrm__hash_8c.html#051bde8ba69700fbd1119d5f0fda82a3" title="Get the hash keys.">tmrm_hash_keys</a>(tmrm_hash* hash, tmrm_hash_datum *key);
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 <span class="comment">/* flush any cached information to disk */</span>
<a name="l00160"></a>00160 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#54a282369218278e0614f06764bb2ecd" title="Flush any cached information to disk if appropriate.">tmrm_hash_sync</a>(tmrm_hash* hash);
<a name="l00161"></a>00161 <span class="comment">/* get the file descriptor for the hash, if it is file based (for locking) */</span>
<a name="l00162"></a>00162 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#567858fc431489b843c6b95fde2b7e40" title="Get the file descriptor for the hash.">tmrm_hash_get_fd</a>(tmrm_hash* hash);
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 <span class="comment">/* init a hash from a string representation */</span>
<a name="l00165"></a>00165 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#f699ab83f9548c4c8d0412aededcd7d3" title="Initialise a hash from a string.">tmrm_hash_from_string</a>(tmrm_hash* hash, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">string</span>);
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 <span class="comment">/* init a hash from an array of strings */</span>
<a name="l00168"></a>00168 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash_8c.html#a650d0eb8992b726daf0c1e6d46c5fab" title="Initialise a hash from an array of strings.">tmrm_hash_from_array_of_strings</a>(tmrm_hash* hash, <span class="keyword">const</span> <span class="keywordtype">char</span> *array[]);
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 <span class="comment">/* cursor methods from tmrm_hash_cursor.c */</span>
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 tmrm_hash_cursor* <a class="code" href="tmrm__hash__cursor_8c.html#049413809975eef637032f89934a5e9d" title="Create a new tmrm_hash_cursor over a tmrm_hash.">tmrm_hash_cursor_new</a>(tmrm_hash* hash);
<a name="l00174"></a>00174 <span class="keywordtype">void</span> <a class="code" href="tmrm__hash__cursor_8c.html#f362ba79b92447b9caaaa1f55b55322b" title="Destroy a tmrm_hash_cursor object.">tmrm_hash_cursor_free</a>(tmrm_hash_cursor* cursor);
<a name="l00175"></a>00175 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash__cursor_8c.html#b74063e621111e5a829980ebde89553b">tmrm_hash_cursor_set</a>(tmrm_hash_cursor *cursor, tmrm_hash_datum *key,tmrm_hash_datum *value);
<a name="l00176"></a>00176 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash__cursor_8c.html#2dbc865a4dc91dd9d8f9ec2175907230">tmrm_hash_cursor_get_next_value</a>(tmrm_hash_cursor *cursor, tmrm_hash_datum *key,tmrm_hash_datum *value);
<a name="l00177"></a>00177 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash__cursor_8c.html#306551837da15d0b3a1e1b850d448b9e">tmrm_hash_cursor_get_first</a>(tmrm_hash_cursor *cursor, tmrm_hash_datum *key, tmrm_hash_datum *value);
<a name="l00178"></a>00178 <span class="keywordtype">int</span> <a class="code" href="tmrm__hash__cursor_8c.html#317099b7e881f28e1f12a7deba736c8b">tmrm_hash_cursor_get_next</a>(tmrm_hash_cursor *cursor, tmrm_hash_datum *key, tmrm_hash_datum *value);
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="preprocessor">#ifdef HAVE_BDB_HASH</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span><span class="keywordtype">void</span> tmrm_init_hash_bdb(tmrm_subject_map_sphere *sms);
<a name="l00182"></a>00182 <span class="preprocessor">#endif</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span><span class="keywordtype">void</span> <a class="code" href="tmrm__hash__internal_8h.html#fbfe5fb5ada9b5ec85a1ce76bd757c24" title="Initialise the memory hash module.">tmrm_init_hash_memory</a>(tmrm_subject_map_sphere *sms);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span>}
<a name="l00189"></a>00189 <span class="preprocessor">#endif</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span>
<a name="l00191"></a>00191 <span class="preprocessor">#endif</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span>
<a name="l00193"></a>00193 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Apr 14 07:02:26 2009 for libtmrm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
